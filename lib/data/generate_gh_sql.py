import sqlite3
import json

# GH courses that need the attribute
gh_courses_raw = """AAS 100N,AFAM 83,AFAM 101N,AFAM 102,AFAM 105N,AFAM 114N,AFAM 132,AFAM 139,AFAM 145,AFAM 146,AFAM 147,AFAM 152,AFAM 164,AFAM 210,AFAM 211,AFAM 213Y,AFAM 235,AFAM 250,AFAM 422,AFAM 431,AFAM 432,AFAM 463,AFAM 465,AFAM 466,AFAM 467,AFAM 468,AFAM 469,AFR 132,AFR 191,AFR 192,AFR 192H,AFR 202N,AFR 234,AFR 479,AMST 3,AMST 83,AMST 100,AMST 100Y,AMST 104,AMST 105,AMST 106N,AMST 127,AMST 134,AMST 135,AMST 140Y,AMST 150,AMST 160N,AMST 161,AMST 161N,AMST 170N,AMST 199,AMST 294,AMST 295,AMST 296,AMST 297,AMST 299,AMST 309N,AMST 399,AMST 422,AMST 432,AMST 447,AMST 470,AMST 472,AMST 475,AMST 476,AMST 491W,AMST 493,AMST 494,AMST 494H,AMST 496,AMST 497,AMST 499,ANTH 2N,ANTH 9N,ANTH 45Q,ANTH 129N,ANTH 220,ANTH 221N,ANTH 439W,ANTH 479,APLNG 280N,APLNG 402,ARAB 110,ARAB 165,ARTH 101N,ASIA 3,ASIA 4,ASIA 83S,ASIA 100,ASIA 102,ASIA 103,ASIA 104,ASIA 106N,ASIA 107N,ASIA 109H,ASIA 120Y,ASIA 172,ASIA 174,ASIA 175,ASIA 176,ASIA 177,ASIA 181,ASIA 182,ASIA 183,ASIA 186,ASIA 200,ASIA 402,ASIA 403,ASIA 404Y,ASIA 405,ASIA 405Y,ASIA 406,ASIA 414,ASIA 418,ASIA 419,ASIA 424,ASIA 425,ASIA 428,ASIA 432,ASIA 460Y,ASIA 472,ASIA 475Y,ASIA 480,ASIA 481,ASIA 483,ASIA 484Y,ASIA 485Y,ASIA 486,ASIA 487,ASTRO 19N,BIOET 100,BIOET 432,CAMS 1,CAMS 4,CAMS 10,CAMS 12N,CAMS 15,CAMS 16,CAMS 20,CAMS 25,CAMS 25U,CAMS 33,CAMS 44,CAMS 44H,CAMS 45,CAMS 45H,CAMS 50,CAMS 83Y,CAMS 90,CAMS 99,CAMS 100,CAMS 101,CAMS 102,CAMS 104,CAMS 105,CAMS 109Y,CAMS 110,CAMS 111,CAMS 113,CAMS 115,CAMS 120,CAMS 121,CAMS 122,CAMS 123,CAMS 124,CAMS 130,CAMS 140,CAMS 142,CAMS 150,CAMS 152,CAMS 153,CAMS 160,CAMS 180,CAMS 194,CAMS 197,CAMS 199,CAMS 200,CAMS 250,CAMS 294,CAMS 296,CAMS 297,CAMS 299,CAMS 397,CAMS 399,CAMS 400W,CAMS 405,CAMS 410,CAMS 411W,CAMS 432W,CAMS 440W,CAMS 453,CAMS 461,CAMS 471,CAMS 472,CAMS 480,CAMS 490,CAMS 492,CAMS 493,CAMS 494,CAMS 494H,CAMS 495,CAMS 496,CAMS 497,CAMS 499,CAS 84,CAS 170N,CAS 175N,CAS 182N,CAS 240N,CAS 301,CAS 411,CAS 415,CAS 420,CAS 422,CAS 426W,CAS 475,CHEM 233N,CHNS 120,CHNS 121N,CHNS 402,CHNS 410,CHNS 414,CHNS 418,CHNS 419,CMLIT 1,CMLIT 3,CMLIT 4,CMLIT 5,CMLIT 6,CMLIT 7,CMLIT 10,CMLIT 10U,CMLIT 11,CMLIT 12,CMLIT 13,CMLIT 19N,CMLIT 83S,CMLIT 97,CMLIT 99,CMLIT 100,CMLIT 101,CMLIT 105,CMLIT 106,CMLIT 107,CMLIT 108,CMLIT 109,CMLIT 111,CMLIT 113,CMLIT 120,CMLIT 122,CMLIT 128N,CMLIT 132,CMLIT 133N,CMLIT 140,CMLIT 141,CMLIT 142,CMLIT 143,CMLIT 153,CMLIT 184,CMLIT 185,CMLIT 191N,CMLIT 197,CMLIT 199,CMLIT 295,CMLIT 296,CMLIT 297,CMLIT 300,CMLIT 399,CMLIT 400Y,CMLIT 403,CMLIT 404Y,CMLIT 405,CMLIT 406,CMLIT 408,CMLIT 410,CMLIT 415,CMLIT 422,CMLIT 423,CMLIT 424,CMLIT 425,CMLIT 429,CMLIT 446,CMLIT 449,CMLIT 453,CMLIT 470,CMLIT 486,CMLIT 490,CMLIT 491,CMLIT 494,CMLIT 494H,CMLIT 496,CMLIT 497,CMLIT 499,COMM 100N,COMM 110,COMM 150Q,COMM 453,CRIMJ 159,CRIMJ 469,EMSC 240N,ENGL 2,ENGL 6,ENGL 83S,ENGL 97,ENGL 98,ENGL 100,ENGL 101,ENGL 103,ENGL 104,ENGL 105,ENGL 108N,ENGL 110,ENGL 128N,ENGL 129,ENGL 129H,ENGL 130,ENGL 131,ENGL 133,ENGL 134,ENGL 135,ENGL 136,ENGL 139,ENGL 140,ENGL 145,ENGL 161N,ENGL 170N,ENGL 180,ENGL 181A,ENGL 181B,ENGL 181C,ENGL 181D,ENGL 182,ENGL 182A,ENGL 182C,ENGL 183N,ENGL 184,ENGL 185,ENGL 191,ENGL 192,ENGL 194,ENGL 194H,ENGL 197,ENGL 198,ENGL 199,ENGL 200,ENGL 200W,ENGL 201,ENGL 201H,ENGL 209,ENGL 210,ENGL 212,ENGL 213,ENGL 215,ENGL 221,ENGL 221W,ENGL 222,ENGL 222W,ENGL 226,ENGL 231,ENGL 231Y,ENGL 232,ENGL 232Y,ENGL 233N,ENGL 235,ENGL 240,ENGL 250,ENGL 261,ENGL 262,ENGL 263,ENGL 265,ENGL 268,ENGL 281,ENGL 294,ENGL 296,ENGL 297,ENGL 299,ENGL 312,ENGL 395,ENGL 397,ENGL 399,ENGL 400,ENGL 401,ENGL 401W,ENGL 402,ENGL 403,ENGL 404,ENGL 405,ENGL 406M,ENGL 407,ENGL 408M,ENGL 411M,ENGL 412,ENGL 413,ENGL 414,ENGL 415,ENGL 416,ENGL 417,ENGL 418,ENGL 419,ENGL 420,ENGL 421,ENGL 422,ENGL 426,ENGL 428,ENGL 429,ENGL 430,ENGL 431,ENGL 432,ENGL 433,ENGL 434,ENGL 435,ENGL 436,ENGL 437,ENGL 439,ENGL 440,ENGL 442,ENGL 443,ENGL 444,ENGL 445,ENGL 446,ENGL 447,ENGL 448,ENGL 449M,ENGL 450,ENGL 451,ENGL 452,ENGL 453,ENGL 454,ENGL 455,ENGL 456,ENGL 457,ENGL 458,ENGL 459,ENGL 462,ENGL 463,ENGL 464M,ENGL 466,ENGL 467,ENGL 468,ENGL 469,ENGL 470,ENGL 471,ENGL 472,ENGL 473,ENGL 474,ENGL 475,ENGL 476,ENGL 480,ENGL 481,ENGL 482,ENGL 482W,ENGL 483,ENGL 486,ENGL 487W,ENGL 489,ENGL 490,ENGL 491,ENGL 492,ENGL 494,ENGL 494H,ENGL 495,ENGL 496,ENGL 497,ENGL 498,ENGL 499,ENVST 100N,FR 111,FR 137,FR 138N,FR 139,FR 142,FR 197,FR 199,FR 202,FR 270,FR 296,FR 297,FR 331,FR 332,FR 351,FR 352,FR 399,FR 402Y,FR 409,FR 410,FR 417,FR 418,FR 430,FR 436,FR 445Y,FR 452Y,FR 458,FR 460,FR 470,FR 471,FR 487,FR 488,FR 494,FR 494H,FR 495,FR 496,FR 497,FR 499,GAME 160N,GAME 460,GER 83,GER 99,GER 100,GER 123,GER 128N,GER 143,GER 157N,GER 166,GER 175,GER 190,GER 197,GER 200N,GER 245,GER 296,GER 297,GER 302W,GER 310,GER 344,GER 399,GER 412,GER 420,GER 430,GER 431,GER 432,GER 440,GER 472,GER 494,GER 494H,GER 495,GER 496,GER 497,GER 499,GLIS 101N,GLIS 102N,GREEK 99,GREEK 101,GREEK 102,GREEK 203,GREEK 420,GREEK 425,GREEK 430,GREEK 440,GREEK 494,GREEK 494H,GREEK 496,GREEK 499,HEBR 10,HEBR 97,HEBR 99,HEBR 152,HEBR 197,HEBR 199,HEBR 296,HEBR 297,HEBR 299,HEBR 397,HEBR 399,HEBR 401,HEBR 402,HEBR 494,HEBR 494H,HEBR 496,HEBR 497,HEBR 499,HIST 1,HIST 2,HIST 2H,HIST 3,HIST 10,HIST 11,HIST 12,HIST 20,HIST 20Y,HIST 21,HIST 66,HIST 83,HIST 100,HIST 101,HIST 102,HIST 103,HIST 104,HIST 105,HIST 106,HIST 107,HIST 108,HIST 109,HIST 110,HIST 111,HIST 112,HIST 113,HIST 115,HIST 117,HIST 118,HIST 119,HIST 121,HIST 122,HIST 123,HIST 124,HIST 127,HIST 129N,HIST 130,HIST 131N,HIST 134,HIST 139,HIST 140,HIST 141,HIST 143N,HIST 144,HIST 145N,HIST 148,HIST 150,HIST 152,HIST 153,HIST 154,HIST 158,HIST 159,HIST 160,HIST 161,HIST 162N,HIST 163,HIST 164,HIST 165,HIST 169,HIST 170,HIST 172,HIST 174,HIST 175,HIST 176,HIST 177,HIST 178,HIST 179,HIST 180,HIST 181,HIST 182,HIST 183,HIST 184,HIST 186,HIST 190,HIST 191,HIST 192,HIST 192H,HIST 193,HIST 194,HIST 195,HIST 197,HIST 199,HIST 200,HIST 203N,HIST 210,HIST 211,HIST 213Y,HIST 238N,HIST 245,HIST 250,HIST 255N,HIST 260,HIST 266Y,HIST 294,HIST 296,HIST 296A,HIST 297,HIST 299,HIST 302W,HIST 305Y,HIST 395,HIST 399,HIST 400,HIST 405Y,HIST 407,HIST 408,HIST 409Y,HIST 411,HIST 412,HIST 413,HIST 414,HIST 416,HIST 417,HIST 418,HIST 420,HIST 421,HIST 424,HIST 425,HIST 426,HIST 427,HIST 428,HIST 430,HIST 431,HIST 432,HIST 433,HIST 434,HIST 436,HIST 437,HIST 438,HIST 440,HIST 441,HIST 442,HIST 444,HIST 444W,HIST 445,HIST 446,HIST 447,HIST 448,HIST 449,HIST 450,HIST 451,HIST 453,HIST 454,HIST 455,HIST 459Y,HIST 460Y,HIST 461,HIST 462,HIST 465,HIST 467,HIST 468,HIST 469,HIST 471Y,HIST 472,HIST 473,HIST 475Y,HIST 479,HIST 480,HIST 481,HIST 482,HIST 483,HIST 484Y,HIST 485Y,HIST 486,HIST 490,HIST 493,HIST 494,HIST 494H,HIST 495,HIST 496,HIST 496A,HIST 496H,HIST 497,HIST 499,HUM 220N,INART 55N,IST 170N,IT 3,IT 20,IT 50,IT 83,IT 99,IT 130,IT 131,IT 197,IT 199,IT 210N,IT 296,IT 297,IT 299,IT 320,IT 325,IT 395,IT 412,IT 415,IT 422,IT 450,IT 460,IT 475,IT 485,IT 490,IT 494,IT 494H,IT 496,IT 497,JAPNS 120,JAPNS 121N,JAPNS 122,JAPNS 172,JAPNS 402,JAPNS 432,JST 4,JST 10,JST 12N,JST 83,JST 90,JST 102,JST 104,JST 106,JST 110,JST 111,JST 112,JST 113,JST 114,JST 115,JST 118,JST 120,JST 121,JST 122,JST 123,JST 124,JST 128N,JST 135,JST 140,JST 143N,JST 152,JST 153,JST 160,JST 181,JST 186,JST 190,JST 193,JST 194,JST 195,JST 235,JST 260,JST 305Y,JST 401,JST 409Y,JST 411,JST 416,JST 426,JST 432W,JST 459,JST 473,JST 478,JST 480,KOR 120,KOR 121N,KOR 403Y,KOR 404,KOR 422,KOR 423,KOR 424,KOR 425,KOR 450,KOR 451,KOR 452,LATIN 296,LATIN 402,LATIN 403,LATIN 404,LATIN 494,LATIN 496,LATIN 497,LHR 403,LHR 466,LING 405,LST 490,LTNST 100,LTNST 127,LTNST 139,LTNST 226,LTNST 300,LTNST 403,LTNST 426,LTNST 467,LTNST 470,LTNST 479,MEDVL 107,MEDVL 108,MEDVL 197,MEDVL 199,MEDVL 294,MEDVL 299,MEDVL 395,MEDVL 399,MEDVL 411,MEDVL 413,MEDVL 494,MEDVL 494H,MEDVL 495,MEDVL 496,MEDVL 497,MEDVL 499,OLEAD 100,PHIL 1,PHIL 2,PHIL 3,PHIL 4,PHIL 5,PHIL 6,PHIL 7,PHIL 8,PHIL 9,PHIL 10,PHIL 11,PHIL 13,PHIL 14,PHIL 15,PHIL 60N,PHIL 83,PHIL 98,PHIL 102,PHIL 103,PHIL 103H,PHIL 103W,PHIL 105,PHIL 105H,PHIL 106,PHIL 107,PHIL 108,PHIL 108H,PHIL 108W,PHIL 109,PHIL 110,PHIL 113,PHIL 114,PHIL 115,PHIL 118,PHIL 119,PHIL 120N,PHIL 122,PHIL 123,PHIL 124,PHIL 125,PHIL 126,PHIL 126W,PHIL 127,PHIL 129,PHIL 131N,PHIL 132,PHIL 134,PHIL 135,PHIL 139,PHIL 197,PHIL 198,PHIL 199,PHIL 200,PHIL 201,PHIL 202,PHIL 203,PHIL 204,PHIL 205,PHIL 208,PHIL 233,PHIL 242N,PHIL 296,PHIL 297,PHIL 299,PHIL 401,PHIL 402,PHIL 403,PHIL 405,PHIL 407,PHIL 408W,PHIL 409,PHIL 410,PHIL 413,PHIL 416,PHIL 418,PHIL 418W,PHIL 424,PHIL 425W,PHIL 426W,PHIL 427,PHIL 432,PHIL 435,PHIL 437,PHIL 438,PHIL 453,PHIL 455,PHIL 456,PHIL 457,PHIL 458,PHIL 461,PHIL 468,PHIL 472,PHIL 473,PHIL 474,PHIL 476,PHIL 478,PHIL 479,PHIL 485,PHIL 494,PHIL 494H,PHIL 496,PHIL 497,PHIL 499,PLANT 129N,PLSC 7N,PLSC 17N,PLSC 17W,PLSC 111,PLSC 112N,PLSC 177N,PLSC 183N,PLSC 200N,PLSC 201N,PLSC 210N,PLSC 223N,PLSC 290N,PORT 197,PORT 199,PORT 210N,PORT 299,PORT 365,PORT 399,PORT 405,PORT 473,PORT 494,PORT 494H,PORT 496,PORT 496A,PORT 497,PSYCH 120N,RLST 1,RLST 3,RLST 4,RLST 12N,RLST 44,RLST 44H,RLST 90,RLST 101,RLST 102,RLST 103,RLST 104,RLST 105N,RLST 106,RLST 107,RLST 108,RLST 109H,RLST 110,RLST 111,RLST 113,RLST 114,RLST 115,RLST 120,RLST 121,RLST 122,RLST 123,RLST 124,RLST 129,RLST 135,RLST 137,RLST 140Y,RLST 145,RLST 146,RLST 147,RLST 153,RLST 160,RLST 165,RLST 181,RLST 194,RLST 197,RLST 235,RLST 280,RLST 294,RLST 297,RLST 407Y,RLST 409Y,RLST 411,RLST 422,RLST 432W,RLST 440Y,RLST 460Y,RLST 471Y,RLST 472,RLST 478,RLST 483,RLST 494,RLST 494H,RLST 495,RLST 496,RLST 497,RLST 499,RUS 83,RUS 99,RUS 100,RUS 101N,RUS 141Y,RUS 142Y,RUS 143,RUS 144,RUS 145,RUS 196,RUS 197,RUS 199,RUS 296,RUS 297,RUS 299,RUS 395,RUS 399,RUS 401,RUS 402,RUS 403,RUS 410,RUS 412,RUS 414,RUS 420,RUS 494,RUS 494H,RUS 496,RUS 497,RUS 499,SC 120N,SC 205N,SOC 120N,SOC 130N,SOC 145N,SPAN 83,SPAN 99,SPAN 100A,SPAN 105,SPAN 130,SPAN 131,SPAN 131Y,SPAN 132,SPAN 197,SPAN 200A,SPAN 210N,SPAN 215Q,SPAN 220,SPAN 253W,SPAN 269N,SPAN 296,SPAN 297,SPAN 299,SPAN 300,SPAN 353,SPAN 354W,SPAN 355,SPAN 356,SPAN 395,SPAN 397,SPAN 420,SPAN 423,SPAN 424,SPAN 425,SPAN 439,SPAN 470,SPAN 472,SPAN 474,SPAN 476,SPAN 479,SPAN 490,SPAN 491,SPAN 494,SPAN 496,SPAN 496H,SPAN 497,SPAN 499,STS 100,STS 100H,STS 101,STS 124,STS 233,STS 428,WGSS 432W,WMNST 8,WMNST 83N,WMNST 101N,WMNST 102,WMNST 104,WMNST 105N,WMNST 106N,WMNST 106Q,WMNST 117,WMNST 137,WMNST 194,WMNST 202N,WMNST 213Y,WMNST 266Y,WMNST 270,WMNST 280,WMNST 300,WMNST 400N,WMNST 438,WMNST 440W,WMNST 462,WMNST 489,WMNST 490,WMNST 491"""

courses = [c.strip() for c in gh_courses_raw.split(',')]

db = sqlite3.connect('/Users/V-Personal/V/lib/data/courses.db')
cursor = db.cursor()

print("-- SQL script to add GH attribute to Humanities courses")
print("-- Generated automatically - preserves existing attributes")
print()

count = 0
for course in courses:
    cursor.execute("SELECT gen_ed_json FROM courses WHERE id = ?", (course,))
    row = cursor.fetchone()
    if row:
        current = json.loads(row[0]) if row[0] else []
        if 'GH' not in current:
            new_attrs = current + ['GH']
            new_json = json.dumps(new_attrs)
            course_escaped = course.replace("'", "''")
            print(f"UPDATE courses SET gen_ed_json = '{new_json}' WHERE id = '{course_escaped}';")
            count += 1

print(f"\n-- Total updates: {count}")
db.close()
